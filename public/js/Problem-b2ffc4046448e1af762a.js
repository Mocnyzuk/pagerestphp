(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{48:function(t,e,i){},52:function(t,e,i){"use strict";var a=i(48);i.n(a).a},53:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.active?i("v-container",{staticClass:"px-0",attrs:{fluid:""}},[i("p",{staticClass:"text-left my-0"},[t._v(t._s(t.active.size)+"/"+t._s(t.limit))]),t._v(" "),i("v-row",{attrs:{dense:""}},t._l(t.currentPage,(function(e,a){return i("v-col",{key:a,attrs:{cols:"6",xs:"6",lg:"2"}},[i("v-card",{staticClass:"overflow-hidden",on:{click:function(i){t.active.has(e.id)?t.removePic(e.id):t.addPic(e.id)}}},[i("v-img",{staticClass:"image",attrs:{src:e.path,height:"80px",width:"auto",cover:""}}),t._v(" "),t.active.has(e.id)?i("v-icon",{staticClass:"image__icon success lighten-1"},[t._v("mdi-check")]):t._e()],1)],1)})),1),t._v(" "),i("v-card-actions",[i("v-btn",{staticClass:"primary",attrs:{type:"submit"},on:{click:t.save}},[t._v("ZAPISZ")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{on:{click:t.previousPage}},[i("v-icon",[t._v("mdi-arrow-left")])],1),t._v(" "),i("v-btn",{on:{click:t.nextPage}},[i("v-icon",[t._v("mdi-arrow-right")])],1)],1)],1):t._e()};a._withStripped=!0;var s={props:["value","limit","maxDisplayed","selected"],data:()=>({pageNum:0,active:null}),computed:{images(){return new Set(this.value)},currentPage(){return[...this.value].slice(this.pageNum*this.maxDisplayed,this.pageNum*this.maxDisplayed+this.maxDisplayed).map(t=>t)}},mounted(){this.active=new Set(this.$props.selected)},methods:{nextPage(){this.pageNum+1<this.images.size/this.maxDisplayed&&this.pageNum++},previousPage(){this.pageNum>0&&this.pageNum--},save(){this.$emit("submit",this.active)},addPic(t){1===this.active.size&&1===this.limit&&(this.active=new Set),this.active.size<this.limit&&(this.active=new Set(this.active.add(t)))},removePic(t){this.active.delete(t),this.active=new Set(this.active)}},watch:{selected(t,e){this.active=new Set(t)}}},n=(i(52),i(0)),c=Object(n.a)(s,a,[],!1,null,"346c8138",null);c.options.__file="client/src/components/app-image-picker.vue";e.a=c.exports},65:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.content?i("div",[t.content.problem.image?i("v-img",{attrs:{src:t.content.problem.image.path,width:"400px",height:"450px",cover:""}}):t._e(),t._v(" "),t.admin&&t.images?i("app-image-picker",{attrs:{value:t.images,limit:1,maxDisplayed:24,selected:t.content.problem.image?[t.content.problem.image.id]:[]},on:{submit:t.updateImg}}):t._e(),t._v(" "),i("h1",{attrs:{contenteditable:t.admin},domProps:{innerHTML:t._s(t.content.problem.name)},on:{blur:t.updateName}}),t._v(" "),i("app-editable-content",{on:{save:t.save},model:{value:t.content.problem.description,callback:function(e){t.$set(t.content.problem,"description",e)},expression:"content.problem.description"}})],1):t._e()};a._withStripped=!0;var s=i(10),n=i(53),c=i(4),o={components:{appEditableContent:s.a,appImagePicker:n.a},data:()=>({content:null}),computed:{...Object(c.b)({images:t=>t.admin.images||[]}),title(){return this.content?this.content.problem.name:"Problem"},name(){return this.$route.params.name||!1},admin(){return this.$store.getters["auth/getRole"]("ROLE_ADMIN")}},async created(){try{this.content=await this.$http.fetchData(`/api/problem/${this.name}`),this.changeTitle()}catch(t){console.error(t)}},methods:{updateImg(t){try{t=[...vvalues],this.content.problem.image=this.images.find(e=>e.id===t[0])}catch(t){this.content.problem.image=null}finally{this.save()}},updateName(t){this.content.problem.name=t.target.innerText,this.save()},save(){this.$http({method:"post",url:"/api/admin/problem",headers:{"Content-type":"application/json"},data:this.content.problem}).catch(t=>{})}}},r=i(0),l=Object(r.a)(o,a,[],!1,null,null,null);l.options.__file="client/src/views/Problem.vue";e.default=l.exports}}]);